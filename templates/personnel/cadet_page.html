{% extends 'base.html' %}
{% load staticfiles %}
{% load personnel_filters %}

{% block head %}
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="{% static 'css/plugins/dataTables/dataTables.bootstrap.css' %}" rel="stylesheet">
	<link href="{% static 'css/plugins/dataTables/plugins/ColReorder/dataTables.colReorder.min.css' %}" rel="stylesheet">
	<link href="{% static 'css/plugins/dataTables/plugins/ColVis/dataTables.colVis.css' %}" rel="stylesheet">
	<link href="{% static 'css/plugins/dataTables/plugins/TableTools/dataTables.tableTools.css' %}" rel="stylesheet">
{% endblock %}

{% block page_header %}
	{{cadet.first_name}} {{cadet.last_name}}
{% endblock %}

{% block content %}
<ul class='nav nav-tabs'>
	<li {% if tab == "overview" %}class="active"{% endif %}><a href="#overview" data-toggle="tab">Overview</a></li>
	<li {% if tab == "pt" %}class="active"{% endif %}><a href="#pt" data-toggle="tab">PT Details</a></li>
</ul>
<div class="tab-content">
	<div class='tab-pane fade{% if tab == "overview" %} in active{% endif %}' id='overview'>
		<div class='row'>
			<div class='col-lg-8'>
				<div class='panel panel-default'>
					<div class='panel-heading'>
						Overview Information
					</div>
					<div class='panel-body'>
						<p>Eagle ID: {{cadet.eagle_id}}</p>
						<p>Gender: {{cadet.gender}}</p>
						<p>Age: {{cadet.age}}</p>
						<p>GPA: {{cadet.gpa}}</p>
						<p>Military Science Grade: {{cadet.ms_grade}}</p>
						<hr>
						<p>Email: {{cadet.email|default_blank}}</p>
						<p>Cell Number: {{cadet.cell_number}}</p>
					</div>
				</div>
			</div>
			
			
			<div class='col-lg-4'>
				<div class = 'panel panel-default'>
					<div class='panel-heading'>
						Assignment Information
					</div>
					<div class='panel-body'>
						<p>MS Class: {{cadet.ms_level}}</p>
						<p>Company: {{cadet.company}}</p>
						<p>Staff: {{cadet.is_staff|interpret_bool}}</p>
						<p>Company Staff: {{cadet.is_company_staff|interpret_bool}}</p>
						{% with commissioned=cadet.commissioned %}
							<p>Active Cadet: 
								<span style="color: {{cadet.dropped|active_color:commissioned}}">
									{{cadet.dropped|active_cadet:commissioned}}
								</span>
							</p>
						{% endwith %}
						<hr>
						<p>Contracted: {{cadet.contracted|interpret_bool}}</p>
						<p>SMP: {{cadet.smp|interpret_bool}}</p>
					</div>
				</div>
			</div>
			</div>
			
		<!-- These next two col-lg-8's might need to be in the same row to commpensate for a long col-lg-4 on the side -->
		<div class='row'>
		
			<div class='col-lg-8'>
				<div class='panel panel-default'>
					<div class='panel-heading'>
						Attendance
					</div>
					<div class='panel-body'>
						Attendance Things
					</div>
				</div>
			</div>
			
			<div class='col-lg-4'>
				<div class='panel panel-default'>
					<div class='panel-heading'>
						Misc
					</div>
					<div class='panel-body'>
						Notifications
					</div>
				</div>
			</div>
			
		</div>
		
			
		<div class='row'>
			<div class='col-lg-8'>
				<div class='panel panel-default'>
					<div class='panel-heading'>
						PT	
					</div>
					<div class='panel-body'>
						<table class="table">
							<thead>
								<tr>
									<td>Test</td>
									<td>Pushups</td>
									<td>Situps</td>
									<td>Two Mile Time</td>
									<td>Overall Score</td>
								</tr>
							</thead>
							
							<tbody>
								{% for score in scores %}
									<tr>
										<td>{{score.pt_test.date}}</td>
										<td>{{score.pushups}}</td>
										<td>{{score.situps}}</td>
										<td>{{score.two_mile}}</td>
										<td>{{score.score}}</td>
									</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class='tab-pane fade{% if tab == "pt" %} in active{% endif %} ' id='pt'>
		<div class="row">
			<div class="col-lg-12">
				<div class="panel panel-default">
					<div class="panel-heading" id="panel_header">
						<h3>PT Scores</h3>
					</div>
					<div class="panel-body">
						<div class="table-responsive">
							<table class="table table-striped table-bordered table-hover">
								<thead>
									<tr>
										<th>PT Test</th>
										<th>Pushups</th>
										<th>Situps</th>
										<th>Two Mile time</th>
									</tr>
								</thead>
								<tbody>
									{% for score in scores %}
									<tr class="odd gradeX">
										<td>{{score.pt_test}}</td>
										<td>{{score.get_pushups}}</td>
										<td>{{score.get_situps}}</td>
										<td>{{score.get_run_time_str}}</td>
									</tr>
									{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
